(* Generated by coq-of-rust *)
Require Import CoqOfRust.CoqOfRust.

Definition read_lines (_ : unit) :=
  let file := method "unwrap" (ImplFile.open filename) in
  Return (method "lines" (io::ImplBufReader.new file)) ;;
  tt.

Definition main (_ : unit) :=
  let lines := read_lines (method "to_string" "./hosts") in
  match into_iter lines with
  | iter =>
    loop
      match next iter with
      | {|  |} => Break
      | {| Some.0 := line; |} =>
        _crate.io._print
          (_crate::fmt::ImplArguments.new_v1
            ["";"\n"]
            [_crate::fmt::ImplArgumentV1.new_display (method "unwrap" line)]) ;;
        tt ;;
        tt
      end ;;
      tt
      from
      for
  end.
